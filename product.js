var Speedometer = new Product("Speedometer", 150, 100, "Caterpillar", "Speedometer Odometer-Speedometer ", "img/speedometer.jpg");
var Tyres = new Product("Tyres", 180, 10, "Michellin", "Michellin Size:P185/65r15 Serv.Desc:84W", "img/tyres.jpg");
var Headlight = new Product("Headlight", 680, 20, "American Locomotive", "Silverado 1500/2500/3500 New Headlights Set Driver Left Passenger Right Pair Assembly", "img/headlight.jpg");
var Engines = new Product("Engines", 1000, 50, "Michellin", " Michellin Dodge Challenger 3.5L Engine Timing Belt Tensioner TBT1150A -22", "img/engines.jpg");
var Dashboard = new Product("Dashboard", 1600, 25, "Caterpillar", "Caterpillar 9' Mech - Less In - Dash System For Full - Size GM Trucks - I209 - GM", "img/dash.jpg");
var Paint = new Product("Paint", 800, 15, "Michellin", "Color Coat - Plastic & Vinyl Flexible Coating, Medium Dark Pewter, 12 oz. Aerosol", "img/paint.jpg");
var Brakes = new Product("Brakes", 650, 5, "Caterpillar", "Power Stop Autospecialty Brake Kits - KOE2385", "img/Brake.jpg");
var Waterneck = new Product("Water neck", 180, 10, "Michellin", "Brakepiston  Size:P185/65r15 Serv.Desc:84W", "img/download (1).jpg");
var Fuelcap = new Product("Fuel cap", 680, 20, "American Locomotive", "Fuel cap 1500/2500/3500 New Headlights Set Driver Left Passenger Right Pair Assembly", "img/fuelCap.jpg");
var Fuelcooler = new Product("Fuel cooler", 1000, 50, "Michellin", " Brakerotor Belt Fuel cooler", "img/fuelpartkit.jpg");
var Fueldistributor = new Product("Fuel distributor", 1600, 25, "Caterpillar", "airFilter ' airFilter  For Full - Size GM Trucks - I209 - GM", "img/fuel Rail.jpg");
var Fuelfilterseal = new Product("Fuel filter seal", 800, 15, "Michellin", "Fuel filter seal, Medium Dark Pewter, 12 oz. Aerosol", "img/F3.jpg");
var Fuelinjectornozzle = new Product("Fuel injector nozzle", 650, 5, "Caterpillar", "fuelPump Kits - Caliper", "img/fuel Rail.jpg");
var Fuelrail = new Product("Fuel rail", 150, 100, "BMW", "Piston Fuelrail ", "img/speedometer.jpg");
var Fuelwaterseparator = new Product("Drivebelt", 180, 10, "Michellin", "Drivebelt P185/65r15 Serv.Desc:84W", "img/dash.jpg");
var Intakemanifold = new Product("Intakemanifold", 680, 20, "American Locomotive", "Intakemanifold Left Passenger Right Pair Assembly", "img/speedometer.jpg");
var Fueldistributor = new Product("Fuel distributor", 1000, 50, "Michellin", " Fuel distributor   Engine Timing Belt Tensioner TBT1150A -22", "img/speedometer.jpg");
var LPGsystemassembly = new Product("LPG system assembly", 1600, 25, "Caterpillar", "Intakemanifold- Dash System For Full - Size GM Trucks - I209 - GM", "img/speedometer.jpg");
var Throttlebody = new Product("Throttlebody", 800, 15, "Michellin", "Throttlebody, 12 oz. Aerosol", "img/throttle.jpg");
var Kingpin = new Product("Kingpin", 650, 5, "Caterpillar", "Kingpin Dash System", "img/speedometer.jpg");
var Laterallink = new Product("Pan-hard rod", 150, 100, "BMW", "Laterallink", "img/throttle.jpg");
var Crankshaft = new Product("Radiatorgasket", 180, 10, "Michellin", "Crankshaft.Desc:84W", "img/speedometer.jpg");
var Differentialflange = new Product("Crank case", 680, 20, "American Locomotive", "Oilpump Left Passenger Right Pair Assembly", "img/diffflinge.jpg");
var Differentialgear = new Product("Oilpipe", 1000, 50, "Michellin", " Differentialgear TBT1150A -22", "img/diffgear.jpg");
var Differentialseal = new Product("Brake backing plate", 1600, 25, "Caterpillar", "Differentialseal - Size GM Trucks - I209 - GM", "img/diffseal.jpg");
var Transmissionpan = new Product("Transmissionpan", 800, 15, "Michellin", "Transmissionpan", "img/speedometer.jpg");
var Transfercase = new Product(" Transfercase ", 650, 5, "Caterpillar", "  Transfercase", "paint.jpg");
var Waterneck1= new Product("Water neck7689", 180, 100, "Michellin769", "Brakepiston 769 Size:P185/65r15 Serv.Desc:84W", "img/speedometer.jpg");
var Clinometer = new Product("Clinometer", 650, 8, "BMW", " clinometer is an instrument used for measuring angles of slope (or tilt),", "img/paint.jpg");
var Dynamometer = new Product("Dynamometer", 850, 9, "American Locomotive", " device for measuring force, torque, or power", "img/speedometer.jpg");
var Enginecradle = new Product("Enginecradle", 680, 20, "American Locomotive", "Enginecradle  Left Passenger Right Pair Assembly", "img/fuel Rail.jpg");
var Enginevalve = new Product("Enginevalve", 1000, 50, "Michellin", " Enginevalve   Engine Timing Belt Tensioner TBT1150A -22", "img/speedometer.jpg");
var Rockerarm = new Product("Rockerarm", 1600, 25, "Caterpillar", "Rockerarm - Dash System For Full - Size GM Trucks - I209 - GM", "img/diffseal.jpg");
var Rockercover = new Product("Rockercover", 800, 15, "Michellin", "jack Coating, Rockercover, 12 oz. Aerosol", "img/fuelCap.jpg");
var Tappet = new Product("Tappet", 650, 5, "Caterpillar", "Tappet - KOE2385", "img/speedometer.jpg");
var Radiatorbolt = new Product("Radiatorbolt", 150, 100, "BMW", "Piston Radiatorbolt ", "img/speedometer.jpg");
var Radiatorgasket = new Product("Radiatorgasket", 180, 10, "Michellin", "RadiatorgasketServ.Desc:84W", "img/fuel Rail.jpg");
var Oilpump = new Product("Oilpump", 680, 20, "American Locomotive", "Oilpump Left Passenger Right Pair Assembly", "img/dash.jpg");
var Oilpipe = new Product("Oilpipe", 1000, 50, "Michellin", " Oilpipe TBT1150A -22", "img/paint.jpg");
var Oilstrainer = new Product("Oilstrainer", 1600, 25, "Caterpillar", "Oilstrainer - Size GM Trucks - I209 - GM", "img/dash.jpg");
var Oilgasket = new Product("Oil gasket", 800, 15, "Michellin", "Oil gasket Medium Dark Pewter, 12 oz. Aerosol", "img/speedometer.jpg");
var PerformanceBattery = new Product("Performance Battery", 650, 5, "Caterpillar", " Performance Battery - KOE2385", "img/speedometer.jpg");
var BatteryCableterminal = new Product("Battery Cable terminal", 650, 5, "Caterpillar", " Battery Cable terminal - KOE2385", "img/fuel Rail.jpg");
var BatteryControlsystem = new Product(" BatteryControlsysteme", 650, 5, "Caterpillar", " Chokecable - KOE2385", "img/speedometer.jpg");
var Bumper = new Product("Bumper", 50, 100, "Caterpillar", "Bumper ", "img/speedometer.jpg");
var smallscrew = new Product("smallscrew", 180, 10, "Michellin", "smallscrew Size:P185/65r15 Serv.Desc:84W", "img/dash.jpg");
var largeScrew = new Product("largeScrew", 680, 20, "American Locomotive", "largeScrew Silverado 1500/2500/3500 New Headlights Set Driver Left Passenger Right Pair Assembly", "img/speedometer.jpg");
var sparkPlug = new Product("sparkPlug", 1000, 50, "Michellin", " sparkPlug  Dodge Challenger Belt Tensioner TBT1150A -22", "img/speedometer.jpg");
var airFilter = new Product("airFilter", 1600, 25, "Caterpillar", "airFilter ' airFilter  For Full - Size GM Trucks - I209 - GM", "img/speedometer.jpg");
var shockAbsorber = new Product("shockAbsorber", 800, 15, "Michellin", "shockAbsorber Plastic & Vinyl Flexible Coating, Medium Dark Pewter, 12 oz. Aerosol", "img/speedometer.jpg");
var fuelPump = new Product("fuelPump", 650, 5, "Caterpillar", "fuelPump Kits - KOE2385", "img/speedometer.jpg");
var Piston = new Product("Piston", 150, 100, "BMW", "Piston Serv.Desc:84W ", "img/speedometer.jpg");
var electricBattery = new Product("electricBattery", 180, 10, "Michellin", "electricBattery:P185/65r15 Serv.Desc:84W", "img/speedometer.jpg");
var sparetier = new Product("sparetier", 680, 20, "American Locomotive", "sparetier Left Passenger Right Pair Assembly", "img/diffflinge.jpg");
var clutch = new Product("clutch", 1000, 50, "Michellin", " clutch  Engine Timing Belt Tensioner TBT1150A -22", "img/speedometer.jpg");
var radiator = new Product("radiator", 1600, 25, "Caterpillar", "radiatorLess In - Dash System For Full - Size GM Trucks - I209 - GM", "img/dash.jpg");
var jack = new Product("jack", 800, 15, "Michellin", "jack Coating, Medium Dark Pewter, 12 oz. Aerosol", "img/speedometer.jpg");
var Muffler = new Product("Muffler", 650, 5, "Caterpillar", "Power Stop Muffler Kits - KOE2385", "img/dash.jpg");
var ArmRest = new Product("ArmRest", 150, 100, "BMW", "Piston Brakedrum ", "img/speedometer.jpg");
var Brakepad = new Product("Brake pad", 50, 100, "Caterpillar", "Brakepad ", "img/B1.jpg");
var Brakepiston = new Product("Brake piston", 180, 10, "Michellin", "Brakepiston  Size:P185/65r15 Serv.Desc:84W", "img/B2.jpg");
var Brakepump = new Product("Brakepump", 680, 20, "American Locomotive", "Brakepump Silverado 1500/2500/3500 New Headlights Set Driver Left Passenger Right Pair Assembly", "img/B3.jpg");
var Brakeroll = new Product("Brake roll", 1000, 50, "Michellin", " Brakerotor Belt Tensioner TBT1150A -22", "img/speedometer.jpg");
var Brakerotor = new Product("Brakeservo", 1600, 25, "Caterpillar", "airFilter ' airFilter  For Full - Size GM Trucks - I209 - GM", "img/speedometer.jpg");
var Brakeservo = new Product("shockAbsorber", 800, 15, "Michellin", "Brakeservo Plastic & Vinyl Flexible Coating, Medium Dark Pewter, 12 oz. Aerosol", "img/diffflinge.jpg");
var Caliper = new Product("Caliper", 650, 5, "Caterpillar", "fuelPump Kits - Caliper", "img/speedometer.jpg");
var Combinationvalve = new Product("Combinationvalve", 150, 100, "BMW", "Piston Combinationvalve ", "img/speedometer.jpg");
var Drivebelt = new Product("Drivebelt", 180, 10, "Michellin", "Drivebelt P185/65r15 Serv.Desc:84W", "img/speedometer.jpg");
var Enginecradle = new Product("Enginecradle", 680, 20, "American Locomotive", "Enginecradle  Left Passenger Right Pair Assembly", "img/fuelCap.jpg");
var Enginevalve = new Product("Enginevalve", 1000, 50, "Michellin", " Enginevalve   Engine Timing Belt Tensioner TBT1150A -22", "img/speedometer.jpg");
var Rockerarm = new Product("Rockerarm", 1600, 25, "Caterpillar", "Rockerarm - Dash System For Full - Size GM Trucks - I209 - GM", "img/paint.jpg");
var Rockercover = new Product("Rockercover", 800, 15, "Michellin", "jack Coating, Rockercover, 12 oz. Aerosol", "img/speedometer.jpg");
var Tappet = new Product("Tappet", 650, 5, "Caterpillar", "Tappet - KOE2385", "img/speedometer.jpg");
var Rockerarm1 = new Product("Rockerarm Blue", 1600, 25, "Caterpillar", "Rockerarm - Dash System For Full - Size GM Trucks - I209 - GM", "img/diffflinge.jpg");
var Rockercover1 = new Product("Rockercover Grey", 800, 15, "Michellin", "jack Coating, Rockercover, 12 oz. Aerosol", "img/speedometer.jpg");
var Tappet1 = new Product("Tappet Grey", 650, 5, "Caterpillar", "Tappet - KOE2385", "img/B1.jpg");
var Rockerarm1 = new Product("Back Wiper", 1600, 25, "Caterpillar", "Rockerarm - Dash System For Full - Size GM Trucks - I209 - GM", "img/F3.jpg");
var Rockercover1 = new Product("Front Wiper", 800, 15, "Michellin", "jack Coating, Rockercover, 12 oz. Aerosol", "img/speedometer.jpg");
var Tappet2 = new Product("Black Dashboard", 650, 5, "Caterpillar", "Tappet - KOE2385", "img/speedometer.jpg");
var Rockerarm2 = new Product("Rockerarm Blue", 1600, 25, "Caterpillar", "Rockerarm - Dash System For Full - Size GM Trucks - I209 - GM", "img/paint.jpg");
var Rockercover2= new Product("Rockercover Grey", 800, 15, "Michellin", "jack Coating, Rockercover, 12 oz. Aerosol", "img/speedometer.jpg");
var Tappet3 = new Product("Tappet Grey dark", 650, 5, "Caterpillar", "Tappet - KOE2385", "img/B1.jpg");
var Rockerarm3 = new Product("Back Wiper Black", 1600, 25, "Caterpillar", "Rockerarm - Dash System For Full - Size GM Trucks - I209 - GM", "brakeRail.jpg");
var Rockercover3 = new Product("Front Wiper Blue", 800, 15, "Michellin", "jack Coating, Rockercover, 12 oz. Aerosol", "img/speedometer.jpg");
var Tappet4 = new Product("Paint Grey dark", 650, 5, "Caterpillar", "Tappet - KOE2385", "img/speedometer.jpg");
var Rockerarm4 = new Product(" Booter Black", 1600, 25, "Caterpillar", "Rockerarm - Dash System For Full - Size GM Trucks - I209 - GM", "img/speedometer.jpg");
var Rockercover4 = new Product("Paint Blue", 800, 15, "Michellin", "jack Coating, Rockercover, 12 oz. Aerosol", "img/speedometer.jpg");
var Tappet5 = new Product("Back Pump Grey dark", 650, 5, "Caterpillar", "Tappet - KOE2385", "img/B1.jpg");
var Rockerarm5 = new Product(" Fuel Back Wiper Black", 1600, 25, "Caterpillar", "Rockerarm - Dash System For Full - Size GM Trucks - I209 - GM", "img/fuelCap.jpg");
var Rockercover5 = new Product("Paint Blue", 800, 15, "Michellin", "jack Coating, Rockercover, 12 oz. Aerosol", "img/speedometer.jpg");
var Tappet6 = new Product("Number Board Grey dark", 650, 5, "Caterpillar", "Tappet - KOE2385", "img/speedometer.jpg");
var Rockerarm6 = new Product("Number Black", 1600, 25, "Caterpillar", "Rockerarm - Dash System For Full - Size GM Trucks - I209 - GM", "img/F3.jpg");
var Rockercover6 = new Product("Number board Wiper Blue", 800, 15, "Michellin", "jack Coating, Rockercover, 12 oz. Aerosol", "img/B1.jpg");
var Tappet7 = new Product("Pump Grey dark Big", 650, 5, "Caterpillar", "Tappet - KOE2385", "img/speedometer.jpg");
var Rockerarm7 = new Product(" Fuel Back Wiper Window", 1600, 25, "Caterpillar", "Rockerarm - Dash System For Full - Size GM Trucks - I209 - GM", "img/brakeRail.jpg");
var Rockercover7 = new Product("Paint Blue Door", 800, 15, "Michellin", "jack Coating, Rockercover, 12 oz. Aerosol", "img/speedometer.jpg");
var Tappet8 = new Product("Number Board Front Grey dark", 650, 5, "Caterpillar", "Tappet - KOE2385", "img/speedometer.jpg");
var Rockerarm8 = new Product("Number Board back Black", 1600, 25, "Caterpillar", "Rockerarm - Dash System For Full - Size GM Trucks - I209 - GM", "img/paint.jpg");
var Rockercover8 = new Product("Number board  back Blue", 800, 15, "Michellin", "jack Coating, Rockercover, 12 oz. Aerosol", "img/speedometer.jpg");










//PRODUCT CART JSON
function CartProduct(productName, Price, Inventory, Supplier, Description) {
    this.productName = productName;
    this.Price = Price;
    this.Inventory = Inventory;
    this.Supplier = Supplier;
    this.Description = Description;
}

var productParts = [];
var productcart = [];
var productArray = [];


window.onload = function () {
    var productsJSON = localStorage.getItem("productParts");
    if (productsJSON != null) {
        productParts = JSON.parse(productsJSON);
    }
    else {
        productParts = [Speedometer, Tyres, Headlight, Engines, Dashboard, Paint, Brakes, Waterneck, Fuelcap, Fuelcooler, Fueldistributor, Fuelfilterseal, Fuelinjectornozzle, Fuelrail, Fuelwaterseparator, Intakemanifold, Fueldistributor, LPGsystemassembly, Throttlebody, Kingpin, Laterallink, Crankshaft, Differentialflange, Differentialgear, Differentialseal, Transmissionpan,
            Transfercase, Waterneck1,Clinometer, Dynamometer, Enginecradle, Enginevalve, Rockerarm, Rockercover, Tappet, Radiatorbolt, Radiatorgasket, Oilpump, Oilpipe, Oilstrainer, Oilgasket,
            PerformanceBattery, BatteryCableterminal, BatteryControlsystem, Bumper, smallscrew, sparkPlug, largeScrew, airFilter, shockAbsorber, fuelPump, Piston,
            electricBattery, sparetier, clutch, radiator, jack, Muffler, ArmRest, Brakepad, Brakepiston, Brakeroll, Brakerotor, Brakepump, Brakeservo,
            Caliper, Combinationvalve, Drivebelt, Enginecradle, Enginevalve, Rockerarm, Rockercover, Tappet, Rockerarm1, Rockercover1, Tappet1, Tappet2, Rockerarm2, Rockercover2, Tappet3, Rockerarm3, Rockercover3,
            Tappet4, Rockerarm4, Rockercover4, Tappet5, Rockerarm5, Rockercover5, Tappet6, Rockerarm6, Rockercover6, Tappet7, Rockerarm7, Rockercover7, Tappet8, Rockerarm8, Rockercover8];
        localStorage.setItem("productParts", JSON.stringify(productParts));
    }
    displayProductList();
    $("#alert-input").hide();
    $("#emptycart").hide();
    $("#maincart").show();
    displaycartProduct()


    //load productCart
    var cartJSON = localStorage.getItem("productcart");
    if (cartJSON == null) {

        document.getElementById("emptycart").style.display = 'block';
        document.getElementById("maincart").style.display = 'none';
    }
    else {
        productcart = JSON.parse(cartJSON);
        displaycartProduct();
    }

    displayProductList();

    document.getElementById("alert-input").style.display = 'none';
    document.getElementById("emptycart").style.display = 'none';
    document.getElementById("maincart").style.display = 'block';
    var populate = document.getElementById('supplier');
    for (var i = 0; i < companyList.length; i++) {
        // POPULATE SELECT ELEMENT WITH JSON.
        populate.innerHTML = populate.innerHTML +
            '<option value="' + companyList[i]['name'] + '">' + companyList[i]['name'] + '</option>';
    }

    var populateedit = document.getElementById('supplier1');
    for (var i = 0; i < companyList.length; i++) {
        // POPULATE SELECT ELEMENT WITH JSON.
        populateedit.innerHTML = populateedit.innerHTML +
            '<option value="' + companyList[i]['name'] + '">' + companyList[i]['name'] + '</option>';
    }

}


//Adding products to the table
function displayProductList() {
    var productTable = "<table id='searchTable' class='table table-striped' class='table-responsive-md'>";
    productTable = productTable + displayProductHead();
    for (i = 0; i < productParts.length; i++) 
        productTable = productTable + displayProductRow(productParts[i]);
    productTable = productTable + "</table>";
    document.getElementById("productList").innerHTML = productTable;
}

function displayProductHead() {
    currentUser = JSON.parse(sessionStorage.getItem('userdetails'));

    var seltype = currentUser.role;
    var cmpName = currentUser.company;
    if (seltype == 'BuyerAdmin' || seltype == 'Buyer') {
        var productHead = "<tr><th>Product Name</th><th>Price</th><th>Inventory</th><th>Supplier</th><th>Description</th><th>Product Image</th><th class='headercart'>Add to Cart</th></tr>";
    }
    if (seltype == 'SuperAdmin'||seltype == 'SupplierAdmin' || seltype == 'Supplier') {

        var productHead = "<tr><th>Product Name</th><th>Price</th><th>Inventory</th><th>Supplier</th><th>Description</th><th>Product Image</th><th>Edit Product</th><th>Delete Product</th></tr>";
    }
    return productHead;
}

function displayProductRow(Product) {
    var companyJSON = localStorage.getItem("companyList");
    companyList = JSON.parse(companyJSON);
    currentUser = JSON.parse(sessionStorage.getItem('userdetails'));


    var seltype = currentUser.role;
    var cmpName = currentUser.company;

    var companyName = companyList[i].name;

    if (seltype == 'BuyerAdmin' || seltype == 'Buyer') {
        var productRow = "<tr><td>" + Product.productName + "</td><td>" + Product.Price + "</td><td> " + Product.Inventory + "</td><td>" + Product.Supplier + "</td><td>" + Product.Description + "</td><td><img height='42' width='42' src=" + Product.img + "></td>" + "<td onclick='addtocart(this)'><input type ='button' value ='Add to Cart' class='btn space' id='button'/></td>";

            }
    if (seltype == 'SuperAdmin' ) {

        var productRow = "<tr><td>" + Product.productName + "</td><td>" + Product.Price + "</td><td> " + Product.Inventory + "</td><td>" + Product.Supplier + "</td><td>" + Product.Description + "</td><td><img height='42' width='42' src=" + Product.img + "></td>" + "<td><input type ='button' value ='Edit' id='button' class='popup' class='btn space' onclick = ' editableRow(" + i + ")'/></td>" +
            "<td onclick='deleteProduct(this)'><input type ='button' value ='Delete' id='button' class='btn space' data-toggle='modal' data-target='#deleteModal'/></td></tr>";
    }
    if (seltype == 'Supplier' || seltype == 'SupplierAdmin')
        if (cmpName == Product.Supplier) {
            var productRow = "<tr><td>" + Product.productName + "</td><td>" + Product.Price + "</td><td> " + Product.Inventory + "</td><td>" + Product.Supplier + "</td><td>" + Product.Description + "</td><td><img height='42' width='42' src=" + Product.img + "></td>" + "<td><input type ='button' value ='Edit' id='button' class='popup' class='btn space' onclick = ' editableRow(" + i + ")'/></td>" +
                "<td onclick='deleteProduct(this)'><input type ='button' value ='Delete' id='button' class='btn space' data-toggle='modal' data-target='#deleteModal'/></td></tr>";
        }
    
    return productRow;

}

//Adding products to the Cart table
function displaycartProduct() {
    var productcartTable = "<table id='stable' class='table table-striped' class='table-responsive-md'>";
    productcartTable = productcartTable + displayProductcartHead();
    for (i = 0; i < productcart.length; i++)
        productcartTable = productcartTable + displayProductcartRow(productcart[i]);
    productcartTable = productcartTable + "</table>";
    document.getElementById("productcartList").innerHTML = productcartTable;
}

function displayProductcartHead() {
    var productcartHead = "<tr><th>Product Name</th><th>Price</th><th>Inventory</th><th>Supplier</th><th>Description</th><th>Remove from Cart</th></tr>";
    return productcartHead;
}

function displayProductcartRow(CartProduct) {

    var productcartRow = "<tr><td>" + CartProduct.productName + "</td><td>" + CartProduct.Price + "</td><td> " + CartProduct.Inventory + "</td><td>" + CartProduct.Supplier + "</td><td>" + CartProduct.Description + "</td>" +
        "<td onclick='deltecart(this)'><input type ='button' value ='Remove' id='button' class='btn space'/></td></tr>";
    return productcartRow;
}

//Adding product to the HTML product atble
function productInput() {
    var productName = document.getElementById("productName").value;
    if (productName == "") {
        $(".alert").removeClass("in").show();
        $(".alert").delay(100).addClass("in").fadeOut(1000);
        return false;
    }
    var Price = document.getElementById("price").value;
    if (Price == "") {
        $(".alert").removeClass("in").show();
        $(".alert").delay(100).addClass("in").fadeOut(1000);
        return false;
    }
    var Inventory = document.getElementById("inventory").value;
    if (Inventory == "") {
        $(".alert").removeClass("in").show();
        $(".alert").delay(100).addClass("in").fadeOut(1000);
        return false;
    }
    var Supplier = document.getElementById("supplier").value;
    if (Supplier == "") {
        $(".alert").removeClass("in").show();
        $(".alert").delay(100).addClass("in").fadeOut(1000);
        return false;
    }
    var Role = document.getElementById("role").value;
    if (Role == "") {
        $(".alert").removeClass("in").show();
        $(".alert").delay(100).addClass("in").fadeOut(1000);
        return false;
    }
    var proProduct = new Product(productName, Price, Inventory, Supplier, Role, "img/speedometer.jpg");
    productParts.push(proProduct);
    displayProductList(productParts);
    document.getElementById("productName").value = "";
    document.getElementById("price").value = "";
    document.getElementById("inventory").value = "";
    document.getElementById("supplier").value = "";
    document.getElementById("role").value = "";

    document.getElementById('modalclose').click();
}

//Search with any input
function searchProduct() {
    var search = document.getElementById("searchButton");
    var filter = search.value.toUpperCase();
    var searchTable = document.getElementById("searchTable");
    var searchRow = searchTable.getElementsByTagName("tr");

    for (i = 0; i < searchRow.length; i++) {
        td0 = searchRow[i].getElementsByTagName("td")[0];
        td1 = searchRow[i].getElementsByTagName("td")[1];
        td2 = searchRow[i].getElementsByTagName("td")[2];
        td3 = searchRow[i].getElementsByTagName("td")[3];
        td4 = searchRow[i].getElementsByTagName("td")[4];
        if (td0 || td1 || td2 || td3 || td4) {
            if (
                (td0.innerHTML.toUpperCase().indexOf(filter) > -1) || (td1.innerHTML.toUpperCase().indexOf(filter) > -1) ||
                (td2.innerHTML.toUpperCase().indexOf(filter) > -1) || (td3.innerHTML.toUpperCase().indexOf(filter) > -1) ||
                (td4.innerHTML.toUpperCase().indexOf(filter) > -1)) {
                searchRow[i].style.display = "";
            }
            else {
                searchRow[i].style.display = "none";
            }
        }
    }
}

//delete product from Product table
function deleteProduct(t) {
    var i = t.parentNode.rowIndex;
    localStorage.setItem("index", i);
}

//confirmation on deleting a  product from Product table
function deleteProductyes() {
    row = localStorage.getItem("index");
    productParts.splice(row - 1, 1);
    localStorage.setItem("productParts", JSON.stringify(productParts));
    document.getElementById('dontdelete').click();
    displayProductList(productParts);
}

//Add product to Product cart table
function addtocart(t) {
    var i = t.parentNode.rowIndex;
    var arr = productParts[i - 1];
    var carProduct = new Product(arr.productName, arr.Price, arr.Inventory, arr.Supplier, arr.Description, arr.img);
    productcart.push(carProduct);
    localStorage.setItem("productcart", JSON.stringify(productcart));
    displaycartProduct(productcart);
}

//Delete a product from Product cart table
function deltecart(t) {
    var row = t.parentNode.rowIndex;
    productcart.splice(row - 1, 1);
    if (productcart.length) {
        localStorage.setItem("productcart", JSON.stringify(productcart))
        displaycartProduct(productcart);
    }
    else {
        localStorage.setItem("productcart", JSON.stringify(productcart))
        $("#maincart").hide();
        $("#emptycart").show();
    }
}


//function to edit Product

var index;
function editableRow(i) {
    index = i;
    var edit = document.getElementById("popEdit");
    edit.classList.add("show");

    document.getElementById("productName1").value = productParts[i].productName;
    document.getElementById("price1").value = productParts[i].Price;
    document.getElementById("inventory1").value = productParts[i].Inventory;
    document.getElementById("supplier1").value = productParts[i].Supplier;
    document.getElementById("role1").value = productParts[i].Description;
}

function editProductTableSelectedRow() {
    var productName = document.getElementById("productName1").value;
    if (productName == "") {
        alert("Product Name cannot be blank");

        return false;
    }

    var Price = document.getElementById("price1").value;
    if (Price == "") {
        alert("Price cannot be blank");
        return false;
    }

    var Inventory = document.getElementById("inventory1").value;
    if (Inventory == "") {
        alert("Inventory cannot be blank");
        return false;
    }

    var Supplier = document.getElementById("supplier1").value;

  
   // var Supplier = Supplier.options[Supplier.selectedIndex].text;

    //if (Supplier == "") {
    //    alert("Supplier cannot be blank");
    //    return false;
    //}


    var Role = document.getElementById("role1").value;
    if (Role == "") {
        alert("Role cannot be blank");
        return false;
    }


    productParts[index].productName = document.getElementById("productName1").value;
    productParts[index].Price = document.getElementById("price1").value;
    productParts[index].Inventory = document.getElementById("inventory1").value;
    productParts[index].Supplier = Supplier;
    productParts[index].Description = document.getElementById("role1").value;
    index = "";



    document.getElementById("productName1").value = '';
    document.getElementById("price1").value = '';
    document.getElementById("inventory1").value = '';
    document.getElementById("supplier1").value = '';
    document.getElementById("role1").value = '';

    localStorage.setItem('productParts', JSON.stringify(productParts));
    displayProductList(productParts);
    closePopupedit();

}
function closePopupedit() {

    var popup = document.getElementById("popEdit");
    popup.classList.remove("show");

}

function jumpTo(x) {
    if (document.supplierName.jumpmenu.value != "null") {
        document.getElementbyId("supplier1").innerHTML = x
        return x;
    }
}
function buy() {

    //localStorage.getItem(productcart);
    //for (i = 0; i < productcart.length; i++) {
    //    var prod = prod +productcart[i].productName;
    //    var pri = Number.pri + productcart[i].Price;
    //    var inv = inv + productcart[i].Inventory;
    //    var supp = supp + productcart[i].Supplier;
    //    var descrip = descrip + productcart[i].Description;
    //}
    //alert("The products are "+ prod);

    window.location.href="shoppingCart.html";

}
